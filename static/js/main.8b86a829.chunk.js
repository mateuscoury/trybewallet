(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){e.exports=a(50)},40:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=a(21),i=(a(40),a(11)),u=a(3),s=a(4),d=a(6),m=a(5),p=a(2),h=a(23),E=a.n(h),b=a(31),f=function(){return function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,t({type:"GET_DATA",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=(a(46),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).state={password:""},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.addemail,n=t.history,l=t.email,c=this.state.password;return r.a.createElement("div",{id:"containerr"},r.a.createElement("img",{src:"https://image.flaticon.com/icons/png/512/218/218390.png"}),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"label-email"},"Email"),r.a.createElement("input",{name:"email",placeholder:"Digite seu email",type:"email",autoComplete:"true","data-testid":"email-input",onChange:function(e){return a(e.target.value)}}),r.a.createElement("label",{htmlFor:"label-senha"},"Senha"),r.a.createElement("input",{name:"password",autoComplete:"true",placeholder:"Digite sua senha",type:"password","data-testid":"password-input",onChange:function(t){var a=t.target;return e.setState({password:a.value})}}),r.a.createElement("button",{type:"button",disabled:!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.+-]+\.com$/.test(l)||c.length<6,onClick:function(){return n.push("/carteira")}},"Entrar")))}}]),a}(r.a.Component)),j=Object(i.b)((function(e){return{email:e.user.email}}),(function(e){return{addemail:function(t){return e({type:"EMAIL_ADD",payload:t})}}}))(v),y=(a(47),a(19)),O=a(14),g=(a(28),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.handleinput,a=e.stateRedux;return r.a.createElement("div",{id:"bla"},r.a.createElement("label",{htmlFor:"despesalabel"},"Valor"),r.a.createElement("input",{type:"number","data-testid":"value-input",name:"value",placeholder:"20",onChange:t}),r.a.createElement("label",{htmlFor:"descricaolabel"},"Descricao"),r.a.createElement("input",{type:"text",placeholder:"Coloque aquia descri\xe7\xe3o","data-testid":"description-input",name:"description",onChange:t}),r.a.createElement("label",{htmlFor:"moedalabel"},"Moeda:"),r.a.createElement("select",{"data-testid":"currency-input",placeholder:"USD",onChange:this.handleInput,name:"currency"},a.map((function(e){return"USDT"!==e&&r.a.createElement("option",{key:e,"data-testid":e},e)}))))}}]),a}(r.a.Component)),x=["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],D=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleInput=e.handleInput.bind(Object(O.a)(e)),e.reqButton=e.reqButton.bind(Object(O.a)(e)),e.state={id:0,value:"",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchData)()}},{key:"handleInput",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState((function(){return Object(y.a)({},a,n)}))}},{key:"reqButton",value:function(){var e=this,t=this.props.expenses,a=this.state,n=a.id,r=a.value,l=a.description,c=a.currency,o=a.method,i=a.tag;return fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(a){t({id:n,value:r,description:l,currency:c,method:o,tag:i,exchangeRates:a}),e.setState({id:n+1,value:"",description:""})}))}},{key:"render",value:function(){var e=this.props.stateRedux;return r.a.createElement("div",{id:"containerForm"},r.a.createElement("form",null,r.a.createElement(g,{handleinput:this.handleInput,stateRedux:e}),r.a.createElement("label",{htmlFor:"metodopagamlabel"},"M\xe9todo de pagamento:"),r.a.createElement("select",{"data-testid":"method-input",onChange:this.handleInput,name:"method"},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito")),r.a.createElement("label",{htmlFor:"categorialabel"},"Categoria da despesa"),r.a.createElement("select",{"data-testid":"tag-input",name:"tag"},x.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("button",{type:"button",onClick:this.reqButton},"Adicionar despesa")))}}]),a}(r.a.Component),w=Object(i.b)((function(e){return{stateRedux:e.wallet.currencies}}),(function(e){return{fetchData:function(){return e(f())},expenses:function(t){return e({type:"GET_EXPENSE",valor:t})}}}))(D),k=(a(29),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("thead",null,r.a.createElement("tr",{id:"zin"},r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir")))}}]),a}(r.a.Component)),C=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleDelet=e.handleDelet.bind(Object(O.a)(e)),e}return Object(s.a)(a,[{key:"handleDelet",value:function(e){(0,this.props.deleteExpense)(e)}},{key:"render",value:function(){var e=this,t=this.props.expenses;return r.a.createElement("div",{id:"tableContainer"},r.a.createElement("table",null,r.a.createElement(k,null),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,t.value),r.a.createElement("td",null,t.exchangeRates[t.currency].name),r.a.createElement("td",null,parseFloat(t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,parseFloat(t.value*t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("button",{"data-testid":"delete-btn",type:"button",onClick:function(){return e.handleDelet(t.id)}},"Excluir"))})))))}}]),a}(r.a.Component),F=Object(i.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{deleteExpense:function(t){return e(function(e){return{type:"DELET_EXPENSE",expenseID:e}}(t))}}}))(C),A=(a(48),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.expenseData;return r.a.createElement("div",{id:"containerWallet"},r.a.createElement("header",null,r.a.createElement("div",{id:"areaImage"},r.a.createElement("img",{src:"https://image.flaticon.com/icons/png/512/218/218390.png"})),r.a.createElement("div",{id:"emailField"},r.a.createElement("h1",{"data-testid":"email-field"},t)),r.a.createElement("div",{id:"totalField"},r.a.createElement("h2",{"data-testid":"total-field"},a.reduce((function(e,t){var a=t.exchangeRates[t.currency].ask,n=Number(a*t.value);return e+Number(n)}),0).toFixed(2)),r.a.createElement("h3",{"data-testid":"header-currency-field"},"BRL"))),r.a.createElement(w,null),r.a.createElement(F,null))}}]),a}(r.a.Component)),S=Object(i.b)((function(e){return{email:e.user.email,expenseData:e.wallet.expenses}}),null)(A),T=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"container"},r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(j,e)}}),r.a.createElement(p.a,{path:"/carteira",exact:!0,render:function(e){return r.a.createElement(S,e)}})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=a(13),R=a(32),_=a(33),M=a(12),B={email:""},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMAIL_ADD":return Object(M.a)(Object(M.a)({},e),{},{email:t.payload});default:return e}},q=a(34),L={currencies:[],expenses:[],total:0,isFetching:!1},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return e;case"GET_DATA":return Object(M.a)(Object(M.a)({},e),{},{currencies:Object.keys(t.payload)});case"GET_EXPENSE":return Object(M.a)(Object(M.a)({},e),{},{expenses:[].concat(Object(q.a)(e.expenses),[t.valor])});case"DELET_EXPENSE":return Object(M.a)(Object(M.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.expenseID}))});default:return e}},P=Object(I.combineReducers)({user:N,wallet:z}),X=Object(I.createStore)(P,Object(R.composeWithDevTools)(Object(I.applyMiddleware)(_.a)));c.a.render(r.a.createElement(i.a,{store:X},r.a.createElement(o.a,{basename:"/trybewallet"},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.8b86a829.chunk.js.map